

Started GET "/assets/rails.png" for 127.0.0.1 at 2012-06-12 17:17:53 +1200

Mysql2::Error (Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)):
  mysql2 (0.3.11) lib/mysql2/client.rb:44:in `connect'
  mysql2 (0.3.11) lib/mysql2/client.rb:44:in `initialize'
  activerecord (3.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:16:in `new'
  activerecord (3.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:16:in `mysql2_connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:303:in `new_connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:313:in `checkout_new_connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:237:in `block (2 levels) in checkout'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:232:in `loop'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:232:in `block in checkout'
  /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:229:in `checkout'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:95:in `connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:398:in `retrieve_connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_specification.rb:168:in `retrieve_connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_specification.rb:142:in `connection'
  activerecord (3.2.3) lib/active_record/query_cache.rb:67:in `rescue in call'
  activerecord (3.2.3) lib/active_record/query_cache.rb:61:in `call'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:467:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.3) lib/active_support/callbacks.rb:405:in `_run__3821814408580034663__call__4556039782062439028__callbacks'
  activesupport (3.2.3) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.3) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.3) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.3) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.3) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.3) lib/rails/engine.rb:479:in `call'
  railties (3.2.3) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (28.3ms)


Started GET "/booking/" for 127.0.0.1 at 2012-06-12 17:17:57 +1200

Mysql2::Error (Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)):
  mysql2 (0.3.11) lib/mysql2/client.rb:44:in `connect'
  mysql2 (0.3.11) lib/mysql2/client.rb:44:in `initialize'
  activerecord (3.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:16:in `new'
  activerecord (3.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:16:in `mysql2_connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:303:in `new_connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:313:in `checkout_new_connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:237:in `block (2 levels) in checkout'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:232:in `loop'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:232:in `block in checkout'
  /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:229:in `checkout'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:95:in `connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:398:in `retrieve_connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_specification.rb:168:in `retrieve_connection'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_specification.rb:142:in `connection'
  activerecord (3.2.3) lib/active_record/query_cache.rb:67:in `rescue in call'
  activerecord (3.2.3) lib/active_record/query_cache.rb:61:in `call'
  activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:467:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.3) lib/active_support/callbacks.rb:405:in `_run__3821814408580034663__call__4556039782062439028__callbacks'
  activesupport (3.2.3) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.3) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.3) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.3) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.3) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.3) lib/rails/engine.rb:479:in `call'
  railties (3.2.3) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (8.3ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (28.3ms)


Started GET "/booking/" for 127.0.0.1 at 2012-06-12 17:20:45 +1200

ActionController::RoutingError (No route matches [GET] "/booking"):
  actionpack (3.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.3) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.3) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.3) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.3) lib/rails/engine.rb:479:in `call'
  railties (3.2.3) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (4.1ms)


Started GET "/booking/" for 127.0.0.1 at 2012-06-12 17:21:05 +1200
Processing by BookingsController#create as HTML
Completed 500 Internal Server Error in 27ms

ArgumentError ('#<ActiveModel::Errors:0x007faa2396e090 @base=#<Booking:0x007faa2396e0e0 @attributes={"action"=>"create", "controller"=>"bookings"}, @validation_context=nil, @errors=#<ActiveModel::Errors:0x007faa2396e090 ...>>, @messages={:name=>["can't be blank"], :phone=>["can't be blank"], :guests=>["is not a number"], :booked_at=>["is not a valid time"]}>' is not an ActiveModel-compatible object that returns a valid partial path.):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.2ms)


Started GET "/booking/" for 127.0.0.1 at 2012-06-12 17:21:26 +1200
Processing by BookingsController#create as HTML
DEPRECATION WARNING: ActiveModel-compatible objects whose classes return a #model_name that responds to #partial_path are deprecated. Please respond to #to_partial_path directly instead. (called from realtime at /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/benchmark.rb:295)
DEPRECATION WARNING: partial_path is deprecated and will be removed from Rails 3.2 (ActiveModel::Name#partial_path is deprecated. Call #to_partial_path on model instances directly instead.). (called from realtime at /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/benchmark.rb:295)
Completed 500 Internal Server Error in 11ms

ActionView::MissingTemplate (Missing partial bookings/booking with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :coffee]}. Searched in:
  * "/Users/mal/Sites/github/suite/suitebar/lib/bookings/app/views"
):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.6ms)


Started GET "/booking.json" for 127.0.0.1 at 2012-06-12 17:21:32 +1200
Processing by BookingsController#create as JSON
DEPRECATION WARNING: ActiveModel-compatible objects whose classes return a #model_name that responds to #partial_path are deprecated. Please respond to #to_partial_path directly instead. (called from realtime at /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/benchmark.rb:295)
DEPRECATION WARNING: partial_path is deprecated and will be removed from Rails 3.2 (ActiveModel::Name#partial_path is deprecated. Call #to_partial_path on model instances directly instead.). (called from realtime at /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/1.9.1/benchmark.rb:295)
Completed 500 Internal Server Error in 5ms

ActionView::MissingTemplate (Missing partial bookings/booking with {:locale=>[:en], :formats=>[:json], :handlers=>[:erb, :builder, :coffee]}. Searched in:
  * "/Users/mal/Sites/github/suite/suitebar/lib/bookings/app/views"
):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (4.2ms)


Started GET "/booking.json" for 127.0.0.1 at 2012-06-12 17:21:38 +1200
Processing by BookingsController#create as JSON
Completed 400 Bad Request in 5ms (Views: 0.5ms)


Started GET "/booking.json?name=mal" for 127.0.0.1 at 2012-06-12 17:21:52 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal"}
Completed 400 Bad Request in 5ms (Views: 0.3ms)


Started GET "/booking.json?name=mal&phone=123" for 127.0.0.1 at 2012-06-12 17:21:58 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123"}
Completed 400 Bad Request in 2ms (Views: 0.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=asd" for 127.0.0.1 at 2012-06-12 17:22:03 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"asd"}
Completed 400 Bad Request in 5ms (Views: 0.5ms)


Started GET "/booking.json?name=mal&phone=123&guests=3" for 127.0.0.1 at 2012-06-12 17:22:08 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3"}
Completed 400 Bad Request in 1ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2000:00:00" for 127.0.0.1 at 2012-06-12 17:22:20 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 00:00:00"}
Completed 500 Internal Server Error in 10ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:5:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.0ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.5ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2000:00:00" for 127.0.0.1 at 2012-06-12 17:22:38 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 00:00:00"}
Completed 500 Internal Server Error in 37ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:5:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.1ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.8ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2000:00:00" for 127.0.0.1 at 2012-06-12 17:22:39 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 00:00:00"}
Completed 500 Internal Server Error in 1ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:5:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (21.6ms)


Started GET "/booking.json?name=mal&phone=123&guests=3" for 127.0.0.1 at 2012-06-12 17:22:56 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3"}
Completed 500 Internal Server Error in 1ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:5:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3" for 127.0.0.1 at 2012-06-12 17:23:05 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3"}
Completed 400 Bad Request in 7ms (Views: 0.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2000:00:00" for 127.0.0.1 at 2012-06-12 17:23:08 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 00:00:00"}
Completed 500 Internal Server Error in 7ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:5:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (7.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2000:00:00" for 127.0.0.1 at 2012-06-12 17:23:19 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 00:00:00"}
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `booked_at' for #<Booking:0x007faa238d1880>):
  app/controllers/bookings_controller.rb:4:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (74.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (98.5ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2000:00:00" for 127.0.0.1 at 2012-06-12 17:23:57 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 00:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError ("2012-06-01 00:00:00"):
  app/controllers/bookings_controller.rb:4:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.6ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2000:00:00" for 127.0.0.1 at 2012-06-12 17:26:07 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 00:00:00"}
Completed 500 Internal Server Error in 2ms

ArgumentError (comparison of String with 0 failed):
  app/controllers/bookings_controller.rb:7:in `<'
  app/controllers/bookings_controller.rb:7:in `new'
  app/controllers/bookings_controller.rb:7:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.0ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (33.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2000:00:00" for 127.0.0.1 at 2012-06-12 17:26:25 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 00:00:00"}
Completed 500 Internal Server Error in 14ms

RuntimeError (Fri, 01 Jun 2012 00:00:00 +0000):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2000:00:00" for 127.0.0.1 at 2012-06-12 17:26:37 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 00:00:00"}
Completed 500 Internal Server Error in 8ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2000:00:00" for 127.0.0.1 at 2012-06-12 17:26:42 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 00:00:00"}
Completed 500 Internal Server Error in 3ms

RuntimeError (Fri, 01 Jun 2012 00:00:00 +0000):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.9ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:26:57 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 0ms

RuntimeError (Fri, 01 Jun 2012 12:00:00 +0000):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:26:59 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 5ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (14.1ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (91.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:27:07 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 2ms

RuntimeError (Fri, 01 Jun 2012 12:00:00 +0000):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.7ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:27:10 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 2ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:28:11 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError (#<Booking:0x007faa239b4298 @attributes={:name=>"mal", :guests=>"3", :phone=>"123", :booked_at=>Fri, 01 Jun 2012 12:00:00 +0000}>):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.1ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:28:21 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError (#<ActiveModel::Errors:0x007faa23969e78 @base=#<Booking:0x007faa2396de88 @attributes={:name=>"mal", :guests=>"3", :phone=>"123", :booked_at=>Fri, 01 Jun 2012 12:00:00 +0000}, @errors=#<ActiveModel::Errors:0x007faa23969e78 ...>>, @messages={}>):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:28:28 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError ([]):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:28:41 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 22ms

RuntimeError ([]):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:28:43 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError ([]):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:28:47 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError ([]):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (25.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:28:54 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError ([]):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.8ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.9ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:29:02 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError ([]):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.8ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:29:19 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError ([]):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (29.5ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:29:26 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError (2012-06-12 17:29:26 +1200):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:33:32 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError (2012-06-12 17:33:32 +1200):
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.7ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:33:35 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 2ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:33:47 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 400 Bad Request in 2ms (Views: 0.5ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:33:55 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 400 Bad Request in 1ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:37:07 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 7ms

NoMethodError (undefined method `booking_available_at' for Diary:Class):
  app/models/booking.rb:38:in `validate_booked_at'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.0ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:37:14 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 400 Bad Request in 3ms (Views: 0.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:38:31 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 500 Internal Server Error in 4ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:38:43 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 400 Bad Request in 3ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:39:15 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 400 Bad Request in 1ms (Views: 0.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:39:53 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 400 Bad Request in 1ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:44:31 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 400 Bad Request in 49ms (Views: 1.9ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-01%2012:00:00" for 127.0.0.1 at 2012-06-12 17:44:46 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-01 12:00:00"}
Completed 400 Bad Request in 1ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2012:00:00" for 127.0.0.1 at 2012-06-12 17:44:53 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 12:00:00"}
Completed 400 Bad Request in 3ms (Views: 0.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2000:00:00" for 127.0.0.1 at 2012-06-12 17:44:58 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 00:00:00"}
Completed 400 Bad Request in 1ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2000:00:00" for 127.0.0.1 at 2012-06-12 17:45:11 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 00:00:00"}
Completed 500 Internal Server Error in 5ms

RuntimeError (4):
  app/models/diary.rb:4:in `day_valid?'
  app/models/booking.rb:40:in `validate_booked_at'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (10.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.7ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (26.6ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2000:00:00" for 127.0.0.1 at 2012-06-12 17:45:16 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 00:00:00"}
Completed 400 Bad Request in 3ms (Views: 0.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-20%2000:00:00" for 127.0.0.1 at 2012-06-12 17:45:19 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-20 00:00:00"}
Completed 400 Bad Request in 1ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-20%2000:00:00" for 127.0.0.1 at 2012-06-12 18:38:19 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-20 00:00:00"}
Completed 400 Bad Request in 4ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-20%2000:00:00" for 127.0.0.1 at 2012-06-12 18:40:23 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-20 00:00:00"}
Completed 400 Bad Request in 3ms (Views: 0.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-20%2000:00:00" for 127.0.0.1 at 2012-06-12 18:40:51 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-20 00:00:00"}
Completed 400 Bad Request in 3ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2000:00:00" for 127.0.0.1 at 2012-06-12 18:40:58 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 00:00:00"}
Completed 400 Bad Request in 1ms (Views: 0.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2018:00:00" for 127.0.0.1 at 2012-06-12 18:41:04 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 18:00:00"}
Completed 400 Bad Request in 2ms (Views: 0.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:41:07 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 400 Bad Request in 1ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:41:23 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 3ms

RuntimeError (19):
  app/models/diary.rb:9:in `time_valid?'
  app/models/booking.rb:41:in `validate_booked_at'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.9ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:41:34 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 4ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.1ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2016:00:00" for 127.0.0.1 at 2012-06-12 18:41:49 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 16:00:00"}
Completed 400 Bad Request in 1ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2016:00:00" for 127.0.0.1 at 2012-06-12 18:42:57 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 16:00:00"}
Completed 500 Internal Server Error in 3ms

SyntaxError (/Users/mal/Sites/github/suite/suitebar/lib/bookings/app/models/diary.rb:14: syntax error, unexpected $end, expecting keyword_end):
  app/models/booking.rb:40:in `validate_booked_at'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.1ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2016:00:00" for 127.0.0.1 at 2012-06-12 18:43:03 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 16:00:00"}
Completed 400 Bad Request in 4ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2016:00:00" for 127.0.0.1 at 2012-06-12 18:43:09 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 16:00:00"}
Completed 400 Bad Request in 6ms (Views: 0.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:02:00" for 127.0.0.1 at 2012-06-12 18:43:15 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:02:00"}
Completed 500 Internal Server Error in 2ms

NoMethodError (undefined method `minutes' for Thu, 21 Jun 2012 19:02:00 +0000:DateTime):
  app/models/diary.rb:13:in `minutes_valid?'
  app/models/booking.rb:42:in `validate_booked_at'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:02:00" for 127.0.0.1 at 2012-06-12 18:43:20 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:02:00"}
Completed 400 Bad Request in 3ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:02:00" for 127.0.0.1 at 2012-06-12 18:43:32 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:02:00"}
Completed 400 Bad Request in 3ms (Views: 0.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:30:00" for 127.0.0.1 at 2012-06-12 18:43:35 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:30:00"}
Completed 500 Internal Server Error in 1ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.3ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:43:40 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 5ms

NameError (uninitialized constant BookingsController::BookingMailer):
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.7ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.5ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:52:06 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 633ms

NoMethodError (undefined method `booking' for "Website Booking from ":String):
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:53:25 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 695ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.0ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:54:38 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 18ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:54:41 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 9ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.3ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:54:41 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 11ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:55:18 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 37ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:55:53 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 12ms

ArgumentError (wrong number of arguments (1 for 0)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.3ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.9ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:55:59 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 18ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:56:57 +1200

SyntaxError (/Users/mal/Sites/github/suite/suitebar/lib/bookings/app/models/booking.rb:21: syntax error, unexpected '=', expecting ';' or '\n'
  def method_missing name, *params = []
                                    ^
/Users/mal/Sites/github/suite/suitebar/lib/bookings/app/models/booking.rb:45: syntax error, unexpected keyword_end, expecting $end):
  app/controllers/bookings_controller.rb:1:in `<top (required)>'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.3ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:57:00 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 21ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:57:23 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 1ms

NameError (undefined local variable or method `booked_at' for #<Booking:0x007ff33c5fc968>):
  app/models/booking.rb:32:in `validate_booked_at'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:57:31 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError (:booked_at):
  app/models/booking.rb:22:in `method_missing'
  app/models/booking.rb:40:in `validate_booked_at'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (7.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.8ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:57:38 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError (Thu, 21 Jun 2012 19:00:00 +0000):
  app/models/booking.rb:22:in `method_missing'
  app/models/booking.rb:40:in `validate_booked_at'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.1ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:57:46 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError (Thu, 21 Jun 2012 19:00:00 +0000):
  app/models/booking.rb:23:in `method_missing'
  app/models/booking.rb:40:in `validate_booked_at'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.0ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (21.6ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:57:58 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 9ms

RuntimeError ("mal"):
  app/mailers/booking_mailer.rb:6:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.1ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.9ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:58:01 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 18ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:58:27 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 9ms

RuntimeError ("mal"):
  app/mailers/booking_mailer.rb:6:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-12 18:58:31 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 19ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.6ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:00:51 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 587ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.0ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (21.8ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:01:27 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 1ms

RuntimeError (Thu, 21 Jun 2012 19:00:00 +0000):
  app/models/booking.rb:23:in `method_missing'
  app/models/booking.rb:40:in `validate_booked_at'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.3ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.6ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:01:30 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 17ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (44.8ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (56.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:01:34 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 18ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:01:35 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 9ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:01:49 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 9ms

RuntimeError (test):
  app/mailers/booking_mailer.rb:6:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (60.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:01:52 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 21ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (10.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (28.5ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:02:02 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 20ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:02:35 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 18ms

ArgumentError (wrong number of arguments (0 for 1)):
  app/mailers/booking_mailer.rb:4:in `request'
  app/mailers/booking_mailer.rb:7:in `request'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.7ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:03:10 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
Completed 500 Internal Server Error in 13ms

NoMethodError (undefined method `request' for BookingMailer:Class):
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.1ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.9ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:03:18 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}

Sent mail to bookings@suitebar.co.nz (139ms)
Date: Wed, 13 Jun 2012 15:03:18 +1200
From: suitebot@suitebar.co.nz
To: bookings@suitebar.co.nz
Message-ID: <4fd802f6a210e_fa0880f8c4f8257c@Frylock.local.mail>
Subject: Website Booking from mal
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


Completed 500 Internal Server Error in 217ms

ActionView::MissingTemplate (Missing template bookings/create, application/create with {:locale=>[:en], :formats=>[:json], :handlers=>[:erb, :builder, :coffee]}. Searched in:
  * "/Users/mal/Sites/github/suite/suitebar/lib/bookings/app/views"
):
  app/controllers/bookings_controller.rb:10:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (1.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:03:41 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}

Sent mail to bookings@suitebar.co.nz (73ms)
Date: Wed, 13 Jun 2012 15:03:41 +1200
From: suitebot@suitebar.co.nz
To: bookings@suitebar.co.nz
Message-ID: <4fd8030dc108f_fa0880f8c4f82663@Frylock.local.mail>
Subject: Website Booking from mal
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  Rendered text template (0.0ms)
Completed 200 OK in 95ms (Views: 3.3ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:04:29 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
  Rendered booking_mailer/requesting.text.erb (8.5ms)
Completed 500 Internal Server Error in 593ms

ActionView::Template::Error (NoMethodError):
    8: -------------------
    9: Name: <%= @booking.name %>
    10: Phone: <%= @booking.phone %>
    11: Email: <%= @booking.email ? @booking.email : "not supplied" %>
    12: 
    13: Comments
    14: -------------------
  app/models/booking.rb:25:in `method_missing'
  app/views/booking_mailer/requesting.text.erb:11:in `_app_views_booking_mailer_requesting_text_erb___4185389896851964853_70153600038040'
  app/mailers/booking_mailer.rb:7:in `requesting'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (20.7ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:04:46 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
  Rendered booking_mailer/requesting.text.erb (1.2ms)
Completed 500 Internal Server Error in 20ms

TypeError (can't convert Symbol into String):
  app/mailers/booking_mailer.rb:7:in `requesting'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.9ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:04:49 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
  Rendered booking_mailer/requesting.text.erb (1.0ms)
Completed 500 Internal Server Error in 21ms

ActionView::Template::Error (email):
    8: -------------------
    9: Name: <%= @booking.name %>
    10: Phone: <%= @booking.phone %>
    11: Email: <%= @booking.email ? @booking.email : "not supplied" %>
    12: 
    13: Comments
    14: -------------------
  app/models/booking.rb:25:in `method_missing'
  app/views/booking_mailer/requesting.text.erb:11:in `_app_views_booking_mailer_requesting_text_erb___4185389896851964853_70153600038040'
  app/mailers/booking_mailer.rb:7:in `requesting'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:05:24 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
  Rendered booking_mailer/requesting.text.erb (1.1ms)
Completed 500 Internal Server Error in 20ms

ActionView::Template::Error (undefined method `email' for #<Booking:0x007f9bd12560b0>):
    8: -------------------
    9: Name: <%= @booking.name %>
    10: Phone: <%= @booking.phone %>
    11: Email: <%= @booking.email ? @booking.email : "not supplied" %>
    12: 
    13: Comments
    14: -------------------
  app/models/booking.rb:25:in `method_missing'
  app/views/booking_mailer/requesting.text.erb:11:in `_app_views_booking_mailer_requesting_text_erb___4185389896851964853_70153600038040'
  app/mailers/booking_mailer.rb:7:in `requesting'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (23.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:06:08 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
  Rendered booking_mailer/requesting.text.erb (1.8ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (undefined method `responds_to?' for #<Booking:0x007f9bd1009780>):
    8: -------------------
    9: Name: <%= @booking.name %>
    10: Phone: <%= @booking.phone %>
    11: Email: <%= @booking.responds_to?(:email) ? @booking.email : "not supplied" %>
    12: 
    13: Comments
    14: -------------------
  app/models/booking.rb:25:in `method_missing'
  app/views/booking_mailer/requesting.text.erb:11:in `_app_views_booking_mailer_requesting_text_erb___4185389896851964853_70153605460480'
  app/mailers/booking_mailer.rb:7:in `requesting'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.0ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:06:11 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
  Rendered booking_mailer/requesting.text.erb (1.8ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (undefined method `comments' for #<Booking:0x007f9bd209f220>):
    12: 
    13: Comments
    14: -------------------
    15: <%= @booking.comments ? @booking.comments : "No comments" %>
    16: 
    17: 
    18: Please respond to <%= @booking.name %>.
  app/models/booking.rb:25:in `method_missing'
  app/views/booking_mailer/requesting.text.erb:15:in `_app_views_booking_mailer_requesting_text_erb___4185389896851964853_70153601515080'
  app/mailers/booking_mailer.rb:7:in `requesting'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:06:20 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}
  Rendered booking_mailer/requesting.text.erb (3.7ms)

Sent mail to bookings@suitebar.co.nz (121ms)
Date: Wed, 13 Jun 2012 15:06:20 +1200
From: suitebot@suitebar.co.nz
To: bookings@suitebar.co.nz
Message-ID: <4fd803acc8295_fa7c3fcde91199b848693@Frylock.local.mail>
Subject: Website Booking from mal
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

mal has requested a booking via the website.

Date: June 21, 2012 19:00

Guests: 3

Contact Details
-------------------
Name: mal
Phone: 123
Email: not supplied

Comments
-------------------
No comments


Please respond to mal.


Cheers

SuiteBot

  Rendered text template (0.0ms)
Completed 200 OK in 151ms (Views: 4.7ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00" for 127.0.0.1 at 2012-06-13 15:21:01 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00"}

Sent mail to bookings@suitebar.co.nz (38ms)
Date: Wed, 13 Jun 2012 15:21:01 +1200
From: suitebot@suitebar.co.nz
To: bookings@suitebar.co.nz
Message-ID: <4fd8071d6f9c8_fa7c3fcde8ba30d8487ad@Frylock.local.mail>
Subject: Website Booking from mal
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  Rendered text template (0.0ms)
Completed 200 OK in 68ms (Views: 1.7ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00&email=mal@mal.co.nz" for 127.0.0.1 at 2012-06-13 15:21:10 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00", "email"=>"mal@mal.co.nz"}

Sent mail to bookings@suitebar.co.nz (37ms)
Date: Wed, 13 Jun 2012 15:21:10 +1200
From: suitebot@suitebar.co.nz
To: bookings@suitebar.co.nz
Message-ID: <4fd8072696054_fa7c3fcde8ba2f2048884@Frylock.local.mail>
Subject: Website Booking from mal
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  Rendered text template (0.0ms)
Completed 200 OK in 55ms (Views: 0.7ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00&email=mal@mal.co.nz" for 127.0.0.1 at 2012-06-13 15:21:38 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00", "email"=>"mal@mal.co.nz"}
Completed 500 Internal Server Error in 3ms

ArgumentError (wrong number of arguments (2 for 1)):
  app/models/booking.rb:28:in `respond_to?'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.0ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00&email=mal@mal.co.nz" for 127.0.0.1 at 2012-06-13 15:21:56 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00", "email"=>"mal@mal.co.nz"}
Completed 500 Internal Server Error in 1ms

ArgumentError (wrong number of arguments (2 for 1)):
  app/models/booking.rb:28:in `respond_to?'
  app/controllers/bookings_controller.rb:8:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.1ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.1ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00&email=mal@mal.co.nz" for 127.0.0.1 at 2012-06-13 15:23:41 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00", "email"=>"mal@mal.co.nz"}
  Rendered booking_mailer/requesting.text.erb (2.4ms)

Sent mail to mal+bookings@mal.co.nz (125ms)
Date: Wed, 13 Jun 2012 15:23:42 +1200
From: suitebot@suitebar.co.nz
To: mal+bookings@mal.co.nz
Message-ID: <4fd807be3ac4d_fe023fc7616ef524698b7@Frylock.local.mail>
Subject: Website Booking from mal
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

mal has requested a booking via the website.

Date: June 21, 2012 19:00

Guests: 3

Contact Details
-------------------
Name: mal
Phone: 123
Email: 

Comments
-------------------



Please respond to mal.


Cheers

SuiteBot

  Rendered text template (0.0ms)
Completed 200 OK in 776ms (Views: 3.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00&email=mal@mal.co.nz" for 127.0.0.1 at 2012-06-13 15:24:56 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00", "email"=>"mal@mal.co.nz"}
  Rendered booking_mailer/requesting.text.erb (0.9ms)

Sent mail to mal+bookings@mal.co.nz (69ms)
Date: Wed, 13 Jun 2012 15:24:56 +1200
From: suitebot@suitebar.co.nz
To: mal+bookings@mal.co.nz
Message-ID: <4fd80808eead3_fe023fc7617303a869964@Frylock.local.mail>
Subject: Website Booking from mal
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

mal has requested a booking via the website.

Date: June 21, 2012 19:00

Guests: 3

Contact Details
-------------------
Name: mal
Phone: 123
Email: not supplied

Comments
-------------------
No comments


Please respond to mal.


Cheers

SuiteBot

  Rendered text template (0.0ms)
Completed 200 OK in 95ms (Views: 1.4ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00&email=mal@mal.co.nz" for 127.0.0.1 at 2012-06-13 15:25:14 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00", "email"=>"mal@mal.co.nz"}
  Rendered booking_mailer/requesting.text.erb (0.2ms)

Sent mail to mal+bookings@mal.co.nz (44ms)
Date: Wed, 13 Jun 2012 15:25:14 +1200
From: suitebot@suitebar.co.nz
To: mal+bookings@mal.co.nz
Message-ID: <4fd8081ae65af_fe023fc76162800070067@Frylock.local.mail>
Subject: Website Booking from mal
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

mal has requested a booking via the website.

Date: June 21, 2012 19:00

Guests: 3

Contact Details
-------------------
Name: mal
Phone: mal@mal.co.nz
Email: not supplied

Comments
-------------------
No comments


Please respond to mal.


Cheers

SuiteBot

  Rendered text template (0.0ms)
Completed 200 OK in 79ms (Views: 1.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00&email=mal@mal.co.nz" for 127.0.0.1 at 2012-06-13 15:25:30 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00", "email"=>"mal@mal.co.nz"}
  Rendered booking_mailer/requesting.text.erb (0.2ms)

Sent mail to mal+bookings@mal.co.nz (34ms)
Date: Wed, 13 Jun 2012 15:25:30 +1200
From: suitebot@suitebar.co.nz
To: mal+bookings@mal.co.nz
Message-ID: <4fd8082a6d8c6_fe023fc761627ed4701a9@Frylock.local.mail>
Subject: Website Booking from mal
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

mal has requested a booking via the website.

Date: June 21, 2012 19:00

Guests: 3

Contact Details
-------------------
Name: mal
Phone: 123
Email: mal@mal.co.nz

Comments
-------------------
No comments


Please respond to mal.


Cheers

SuiteBot

  Rendered text template (0.0ms)
Completed 200 OK in 57ms (Views: 1.2ms)


Started GET "/booking.json?name=mal&phone=123&guests=3&booked_at=2012-06-21%2019:00:00&email=mal@mal.co.nz&comments=%20fuck%20you!" for 127.0.0.1 at 2012-06-13 15:25:40 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "phone"=>"123", "guests"=>"3", "booked_at"=>"2012-06-21 19:00:00", "email"=>"mal@mal.co.nz", "comments"=>" fuck you!"}
  Rendered booking_mailer/requesting.text.erb (0.2ms)

Sent mail to mal+bookings@mal.co.nz (48ms)
Date: Wed, 13 Jun 2012 15:25:40 +1200
From: suitebot@suitebar.co.nz
To: mal+bookings@mal.co.nz
Message-ID: <4fd8083415f42_fe023fc76161adec7029d@Frylock.local.mail>
Subject: Website Booking from mal
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

mal has requested a booking via the website.

Date: June 21, 2012 19:00

Guests: 3

Contact Details
-------------------
Name: mal
Phone: 123
Email: mal@mal.co.nz

Comments
-------------------
 fuck you!


Please respond to mal.


Cheers

SuiteBot

  Rendered text template (0.0ms)
Completed 200 OK in 67ms (Views: 0.8ms)


Started GET "/booking.json" for 127.0.0.1 at 2012-06-13 15:26:22 +1200
Processing by BookingsController#create as JSON
Completed 500 Internal Server Error in 0ms

TypeError (can't convert nil into String):
  app/controllers/bookings_controller.rb:9:in `parse'
  app/controllers/bookings_controller.rb:9:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.2ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.4ms)


Started GET "/booking.json" for 127.0.0.1 at 2012-06-13 15:26:42 +1200
Processing by BookingsController#create as JSON
Completed 500 Internal Server Error in 14ms

NoMethodError (undefined method `<=' for nil:NilClass):
  app/models/booking.rb:30:in `validate_booked_at'
  app/controllers/bookings_controller.rb:10:in `create'


  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.3ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/mal/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (21.8ms)


Started GET "/booking.json" for 127.0.0.1 at 2012-06-13 15:27:04 +1200
Processing by BookingsController#create as JSON
Completed 400 Bad Request in 5ms (Views: 0.4ms)


Started GET "/booking.json?name=mal" for 127.0.0.1 at 2012-06-13 15:27:10 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal"}
Completed 400 Bad Request in 4ms (Views: 0.5ms)


Started GET "/booking.json?name=mal&booked_at=2011-06-24%2000:00:00" for 127.0.0.1 at 2012-06-13 15:27:20 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "booked_at"=>"2011-06-24 00:00:00"}
Completed 400 Bad Request in 5ms (Views: 1.7ms)


Started GET "/booking.json?name=mal&booked_at=2012-06-24%2000:00:00" for 127.0.0.1 at 2012-06-13 15:27:23 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "booked_at"=>"2012-06-24 00:00:00"}
Completed 400 Bad Request in 6ms (Views: 0.6ms)


Started GET "/booking.json?name=mal&booked_at=2012-06-24%2018:00:00" for 127.0.0.1 at 2012-06-13 15:27:26 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"mal", "booked_at"=>"2012-06-24 18:00:00"}
Completed 400 Bad Request in 2ms (Views: 0.2ms)


Started GET "/booking.json?callback=jQuery17200733895618468523_1339559727640&name=asd+asd+&guests=2&booking_date=2012-06-23&booking_time=7pm&comments=&_=1339559742073" for 127.0.0.1 at 2012-06-13 15:55:42 +1200
Processing by BookingsController#create as JSON
  Parameters: {"callback"=>"jQuery17200733895618468523_1339559727640", "name"=>"asd asd ", "guests"=>"2", "booking_date"=>"2012-06-23", "booking_time"=>"7pm", "comments"=>"", "_"=>"1339559742073"}
Completed 400 Bad Request in 22ms (Views: 3.9ms)


Started GET "/booking.json?callback=jQuery17200733895618468523_1339559727640&name=asd+asd+&guests=2&booking_date=2012-06-23&booking_time=7pm&comments=&_=1339559742073" for 127.0.0.1 at 2012-06-13 15:56:35 +1200
Processing by BookingsController#create as JSON
  Parameters: {"callback"=>"jQuery17200733895618468523_1339559727640", "name"=>"asd asd ", "guests"=>"2", "booking_date"=>"2012-06-23", "booking_time"=>"7pm", "comments"=>"", "_"=>"1339559742073"}
Completed 400 Bad Request in 8ms (Views: 6.3ms)


Started POST "/booking.json" for 127.0.0.1 at 2012-06-13 15:58:30 +1200
Processing by BookingsController#create as JSON
  Parameters: {"name"=>"123", "guests"=>"2", "booking_date"=>"2012-06-17", "booking_time"=>"7.30pm", "comments"=>""}
WARNING: Can't verify CSRF token authenticity
Completed 400 Bad Request in 2ms (Views: 0.3ms)
